/* ================================================
   Accessibility Toolbar — Applied Styles
   ================================================ */

/* ── Root filter — combined in JS to prevent overwrites ── */
:root {
  --a11y-root-filter: none;
  --a11y-letter-spacing: 0em;
  --a11y-line-height: normal;
  --a11y-word-spacing: 0em;
}

.a11y-filters-active {
  filter: var(--a11y-root-filter) !important;
}

/* Re-invert images/video when page is inverted */
.a11y-invert img,
.a11y-invert video,
.a11y-invert canvas {
  filter: invert(100%) hue-rotate(180deg) !important;
}

/* ── Font Size ── */
.a11y-font-large   { font-size: 125% !important; }
.a11y-font-xlarge  { font-size: 150% !important; }
.a11y-font-xxlarge { font-size: 200% !important; }

/* ── Highlight Links ── */
.a11y-highlight-links a {
  outline: 3px solid #ffcc00 !important;
  outline-offset: 2px !important;
  background: rgba(255, 204, 0, 0.12) !important;
  text-decoration: underline !important;
}

/* ── Highlight Headings ── */
.a11y-highlight-headings h1,
.a11y-highlight-headings h2,
.a11y-highlight-headings h3,
.a11y-highlight-headings h4,
.a11y-highlight-headings h5,
.a11y-highlight-headings h6 {
  outline: 3px solid #ff9800 !important;
  outline-offset: 2px !important;
  background: rgba(255, 152, 0, 0.1) !important;
}

/* ── Pause Animations ── */
.a11y-pause-animations,
.a11y-pause-animations *,
.a11y-pause-animations *::before,
.a11y-pause-animations *::after {
  animation-duration: 0.001ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.001ms !important;
  scroll-behavior: auto !important;
}

/* ── Big Cursor ── */
.a11y-big-cursor,
.a11y-big-cursor * {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 48 48'%3E%3Cpath d='M6 6l26 12-12 6-6 12z' fill='%23000' stroke='%23fff' stroke-width='3'/%3E%3C/svg%3E") 6 6, auto !important;
}

/* ── Large Focus ── */
.a11y-large-focus *:focus {
  outline: 4px solid #ff9800 !important;
  outline-offset: 4px !important;
  box-shadow: 0 0 0 6px rgba(255, 152, 0, 0.25) !important;
}

/* ── Readable Font ── */
.a11y-readable-font,
.a11y-readable-font * {
  font-family: Arial, Helvetica, sans-serif !important;
}

/* ── Spacing ── */
.a11y-spacing-active * {
  letter-spacing: var(--a11y-letter-spacing) !important;
  line-height: var(--a11y-line-height) !important;
  word-spacing: var(--a11y-word-spacing) !important;
}

/* ── Text Align ── */
.a11y-text-left   * { text-align: left   !important; }
.a11y-text-center * { text-align: center !important; }
.a11y-text-right  * { text-align: right  !important; }

/* ── Reading Guide ── */
#a11y-reading-guide {
  position: fixed;
  left: 0;
  width: 100%;
  height: 6px;
  background: linear-gradient(90deg, transparent 0%, rgba(6, 182, 212, 0.45) 20%, rgba(6, 182, 212, 0.45) 80%, transparent 100%);
  pointer-events: none;
  z-index: 99990;
  display: none;
  border-radius: 3px;
  box-shadow: 0 0 12px rgba(6, 182, 212, 0.3);
}
.a11y-reading-guide-active #a11y-reading-guide {
  display: block;
}

/* ── Protect the panel from accessibility transforms ── */
#a11y-panel {
  filter: none !important;
}
#a11y-panel * {
  font-size: revert !important;
  letter-spacing: normal !important;
  line-height: normal !important;
  word-spacing: normal !important;
  text-align: initial !important;
  font-family: revert !important;
  cursor: revert !important;
}
/* But allow focus styles inside panel */
#a11y-panel *:focus {
  outline: revert !important;
  box-shadow: revert !important;
}

/* Custom scrollbar for panel */
.a11y-panel-scroll::-webkit-scrollbar {
  width: 4px;
}
.a11y-panel-scroll::-webkit-scrollbar-track {
  background: transparent;
}
.a11y-panel-scroll::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}
.a11y-panel-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* ================================================
   Utility: hide scrollbar (mobile view toggle)
   ================================================ */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ================================================
   Splash Screen Animations
   ================================================ */
@keyframes splash-float {
  0%, 100% { transform: translateY(0) scale(1); opacity: 0.3; }
  50% { transform: translateY(-20px) scale(1.2); opacity: 0.7; }
}
.splash-float {
  animation: splash-float 4s ease-in-out infinite;
}

@keyframes splash-pulse-ring {
  0% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
  100% { transform: translate(-50%, -50%) scale(8); opacity: 0; }
}
.splash-pulse {
  animation: splash-pulse-ring 1s ease-out forwards;
}

@keyframes splash-dot-pulse {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.5); }
}
.splash-dot {
  animation: splash-dot-pulse 1.5s ease-in-out infinite;
}

/* ================================================
   Loading Screen — Neural Network Animations
   ================================================ */

/* Neural nodes — glow pulse */
@keyframes loading-node-pulse {
  0%, 100% { opacity: 0.2; transform: scale(1); box-shadow: 0 0 0 rgba(6,182,212,0); }
  50% { opacity: 0.9; transform: scale(1.3); box-shadow: 0 0 12px rgba(6,182,212,0.4); }
}
.loading-node {
  background: radial-gradient(circle, #06b6d4 0%, rgba(6,182,212,0.3) 100%);
  animation: loading-node-pulse 2s ease-in-out infinite;
}

/* Neural connection lines */
@keyframes loading-line-flow {
  0% { stroke-dashoffset: 100; opacity: 0; }
  30% { opacity: 0.4; }
  100% { stroke-dashoffset: 0; opacity: 0.15; }
}
.loading-line {
  stroke: rgba(6,182,212,0.25);
  stroke-width: 1;
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  animation: loading-line-flow 1.5s ease-out forwards;
}

/* Center brain glow */
@keyframes loading-brain-glow-pulse {
  0%, 100% { transform: scale(1); opacity: 0.4; box-shadow: 0 0 15px rgba(6,182,212,0.2), 0 0 30px rgba(168,85,247,0.1); }
  50% { transform: scale(1.4); opacity: 0.8; box-shadow: 0 0 25px rgba(6,182,212,0.4), 0 0 50px rgba(168,85,247,0.2); }
}
.loading-brain-glow {
  animation: loading-brain-glow-pulse 2s ease-in-out infinite;
}
.loading-brain-pulse {
  animation: loading-brain-glow-pulse 3s ease-in-out infinite;
}

/* Progress bar sweep */
@keyframes loading-progress-sweep {
  0% { width: 0%; background-position: 0% 0; }
  50% { width: 70%; }
  80% { width: 85%; }
  100% { width: 95%; background-position: 200% 0; }
}
.loading-progress {
  background: linear-gradient(90deg, #06b6d4, #a855f7, #06b6d4);
  background-size: 200% 100%;
  animation: loading-progress-sweep 3s ease-in-out infinite;
}

/* Spinner — dual ring */
@keyframes loading-spin {
  to { transform: rotate(360deg); }
}
@keyframes loading-spin-reverse {
  to { transform: rotate(-360deg); }
}
.loading-spin {
  animation: loading-spin 1s linear infinite;
}
.loading-spin-reverse {
  animation: loading-spin-reverse 1.5s linear infinite;
}

/* ================================================
   Site Preview Panel — Slide In
   ================================================ */
@keyframes sitePreviewSlideIn {
  from { transform: translateX(-100%); opacity: 0; }
  to   { transform: translateX(0);     opacity: 1; }
}

/* ================================================
   AnimatedIcon Keyframes (global — single definition)
   ================================================ */
@keyframes iconBounce {
  0%, 100% { transform: translateY(0); }
  25% { transform: translateY(-4px); }
  75% { transform: translateY(2px); }
}
@keyframes iconWiggle {
  0%, 100% { transform: rotate(0deg); }
  20% { transform: rotate(12deg); }
  40% { transform: rotate(-10deg); }
  60% { transform: rotate(6deg); }
  80% { transform: rotate(-4deg); }
}
@keyframes iconPulseGrow {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.25); }
}
@keyframes iconSpinSlow {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
@keyframes iconFloat {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  33% { transform: translateY(-3px) rotate(3deg); }
  66% { transform: translateY(1px) rotate(-2deg); }
}
@keyframes iconSwing {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(15deg); }
  75% { transform: rotate(-15deg); }
}
@keyframes iconRubber {
  0% { transform: scale(1, 1); }
  30% { transform: scale(1.2, 0.8); }
  40% { transform: scale(0.85, 1.15); }
  50% { transform: scale(1.1, 0.9); }
  65% { transform: scale(0.95, 1.05); }
  100% { transform: scale(1, 1); }
}
@keyframes iconFlash {
  0%, 50%, 100% { opacity: 1; }
  25%, 75% { opacity: 0.4; }
}
@keyframes iconTilt {
  0%, 100% { transform: rotate(0deg) translateX(0); }
  25% { transform: rotate(-8deg) translateX(-2px); }
  75% { transform: rotate(8deg) translateX(2px); }
}
@keyframes iconBreathe {
  0%, 100% { transform: scale(1); opacity: 0.85; }
  50% { transform: scale(1.15); opacity: 1; }
}

/* ================================================
   Splash Variant Animations
   ================================================ */
@keyframes glitch-text {
  0% { transform: translate(0); }
  20% { transform: translate(-3px, 2px); }
  40% { transform: translate(3px, -1px); }
  60% { transform: translate(-1px, -2px); }
  80% { transform: translate(2px, 1px); }
  100% { transform: translate(0); }
}
@keyframes glitch-clip1 {
  0% { clip-path: inset(20% 0 40% 0); transform: translateX(-4px); }
  50% { clip-path: inset(35% 0 25% 0); transform: translateX(3px); }
  100% { clip-path: inset(20% 0 40% 0); transform: translateX(-4px); }
}
@keyframes glitch-clip2 {
  0% { clip-path: inset(60% 0 10% 0); transform: translateX(4px); }
  50% { clip-path: inset(50% 0 15% 0); transform: translateX(-3px); }
  100% { clip-path: inset(60% 0 10% 0); transform: translateX(4px); }
}
@keyframes splash-matrix-fall {
  0% { transform: translateY(-100%); opacity: 0; }
  10% { opacity: 0.6; }
  90% { opacity: 0.4; }
  100% { transform: translateY(100vh); opacity: 0; }
}
.splash-matrix-col {
  animation: splash-matrix-fall 2s linear infinite;
}
@keyframes splash-plasma-arc-anim {
  0% { transform: rotate(var(--rot, 0deg)) scaleY(0); opacity: 0; }
  30% { opacity: 0.6; }
  50% { transform: rotate(var(--rot, 0deg)) scaleY(1.2); opacity: 0.5; }
  100% { transform: rotate(var(--rot, 0deg)) scaleY(0.8); opacity: 0.2; }
}
.splash-plasma-arc {
  animation: splash-plasma-arc-anim 1.2s ease-out forwards;
}
@keyframes splash-pulse-expand-anim {
  0% { transform: scale(1); opacity: 0.5; }
  100% { transform: scale(8); opacity: 0; }
}
.splash-pulse-expand {
  animation: splash-pulse-expand-anim 1.5s ease-out forwards;
}
@keyframes blink-cursor {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}
@keyframes splash-shockwave-expand {
  0% { transform: scale(1); opacity: 0.6; }
  100% { transform: scale(30); opacity: 0; }
}
.splash-shockwave {
  animation: splash-shockwave-expand 1.2s ease-out forwards;
}
.splash-radial-line {
  animation: splash-radial-fade 0.8s ease-out forwards;
}
@keyframes splash-radial-fade {
  0% { opacity: 0; transform: rotate(var(--rot, 0deg)) scaleY(0.3); }
  50% { opacity: 0.5; }
  100% { opacity: 0; transform: rotate(var(--rot, 0deg)) scaleY(1.5); }
}

/* ================================================
   Respect prefers-reduced-motion system setting
   ================================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}
